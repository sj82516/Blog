System.register(["angular2/core"],function(t,e){"use strict";var n,r,a=(e&&e.id,this&&this.__decorate||function(t,e,n,r){var a,i=arguments.length,s=3>i?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(3>i?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}),i=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0};return{setters:[function(t){n=t}],execute:function(){r=function(){function t(){this.switchAns=new Array(4),this.switchVal=new Array(4),this.errorState=new Array(4),this.ansState=new Array(4)}return t.prototype.ngOnInit=function(){this.initGame()},t.prototype.onCheckAns=function(t){if(this.ansState=Array.apply(null,Array(4)).map(function(){return 0}),this.isSolved=!1,this.switchVal[t]>9||this.switchVal[t]<0)return void(this.errorState[t]=!0);this.errorState[t]=!1;for(var e in this.switchVal)if(this.switchAns[e]!=this.switchVal[e])for(var n in this.switchAns)this.switchAns[n]==this.switchVal[e]&&this.ansState[n]<2&&(this.ansState[n]=1);else this.ansState[e]=2;this.updateGameState()},t.prototype.updateGameState=function(){for(var t=0,e=0,n=0,r=this.ansState;n<r.length;n++){var a=r[n];1==a&&t++,2==a&&e++}4==e&&(this.isSolved=!0,this.currentPlayer.winNum++),this.gameState=e+"A"+t+"B"},t.prototype.onNewGame=function(){this.initGame(),this.currentPlayer.playNum++},t.prototype.initGame=function(){this.isSolved=!1,this.gameState="0A0B",this.switchAns=Array.apply(null,Array(4)).map(function(){return Math.floor(8*Math.random()+1)}),this.switchVal=Array.apply(null,Array(4)).map(function(){return 0}),this.errorState=Array.apply(null,Array(4)).map(function(){return!1}),this.ansState=Array.apply(null,Array(4)).map(function(){return 0}),console.log(this.switchAns)},a([n.Input(),i("design:type",Object)],t.prototype,"currentPlayer",void 0),t=a([n.Component({selector:"puzzle-component",template:'\n        <section [ngClass]="{solved:isSolved, unsolved:!isSolved}">\n            <h2>Hello {{currentPlayer.name}}</h2>\n            <h4>This is your record: {{currentPlayer.winNum}} / {{currentPlayer.playNum}}</h4>\n            <h4>Game State : {{gameState}}</h4>\n            <p>\n                <label for="switch1">Switch1:</label>\n                <input type="text" [(ngModel)]="switchVal[0]" (keyup)="onCheckAns(0)">\n                <span *ngIf="errorState[0]">Input Error!</span>\n            </p>\n            <p>\n                <label for="switch1">Switch2:</label>\n                <input type="text" [(ngModel)]="switchVal[1]" (keyup)="onCheckAns(1)">\n                <span *ngIf="errorState[1]">Input Error!</span>\n            </p>\n            <p>\n                <label for="switch1">Switch3:</label>\n                <input type="text" [(ngModel)]="switchVal[2]" (keyup)="onCheckAns(2)">\n                <span *ngIf="errorState[2]">Input Error!</span>\n            </p>\n            <p>\n                <label for="switch1">Switch4:</label>\n                <input type="text" [(ngModel)]="switchVal[3]" (keyup)="onCheckAns(3)">\n                <span *ngIf="errorState[3]">Input Error!</span>\n            </p>\n            <p *ngIf="!isSolved">Wana give up? <button (click)="onNewGame()">Try again</button>\n            <p *ngIf="isSolved">Congradulation! Start new game? <button (click)="onNewGame()">New Game</button></p>\n        </section>\n    '}),i("design:paramtypes",[])],t)}(),t("PuzzleComponent",r)}}});